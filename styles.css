:root{
  --bg: #fbfbfd;
  --ink: #101828;
  --muted: #667085;
  --border: #e6e8ee;
  --card: #ffffff;

  --blue: #2e6cf6;
  --blue-weak: rgba(46,108,246,.10);

  --amber: #f4b000;
  --amber-weak: rgba(244,176,0,.12);

  --red: #e23b3b;
  --red-weak: rgba(226,59,59,.10);

  --shadow: 0 12px 40px rgba(16,24,40,.08);
  --radius: 18px;

  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

*{ box-sizing:border-box; }
html{ scroll-behavior: smooth; }
body{
  margin:0;
  font-family: var(--sans);
  color: var(--ink);
  background:
    radial-gradient(900px 420px at 20% 0%, rgba(46,108,246,.08), transparent 55%),
    radial-gradient(900px 420px at 80% 10%, rgba(244,176,0,.08), transparent 55%),
    var(--bg);
  line-height: 1.6;
}

.wrap{
  max-width: 980px;
  margin: 0 auto;
  padding: 0 18px;
}

/* Topbar */
.topbar{
  position: sticky;
  top: 0;
  z-index: 40;
  background: rgba(251,251,253,.78);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
}
.topbar-inner{
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: 12px 0;
  gap: 12px;
}
.brand{
  display:flex;
  align-items:center;
  gap:10px;
  text-decoration:none;
  color: var(--ink);
  font-weight: 700;
}
.brand-text{
  letter-spacing: .01em;
}
.dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--blue);
  box-shadow: 0 0 0 6px var(--blue-weak);
}
.nav{
  display:flex;
  gap: 12px;
  flex-wrap: wrap;
  justify-content: flex-end;
}
.nav a{
  text-decoration:none;
  color: var(--muted);
  font-weight: 600;
  font-size: 13px;
  padding: 8px 10px;
  border-radius: 999px;
}
.nav a:hover{
  background: rgba(16,24,40,.05);
  color: var(--ink);
}

/* Story layout */
.story{
  padding: 28px 0 64px;
}
.section{
  margin: 28px 0;
  padding: 22px 22px;
  background: rgba(255,255,255,.75);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.section h2{
  margin: 0 0 10px 0;
  font-size: 18px;
}
.section h3{
  margin: 18px 0 8px 0;
  font-size: 14px;
  color: #1d2939;
  letter-spacing: .01em;
}
.muted{ color: var(--muted); }
.small{ font-size: 13px; }

.hero{
  padding: 26px 0 6px;
}
.eyebrow{
  font-family: var(--mono);
  font-size: 12px;
  color: var(--muted);
  letter-spacing: .05em;
  text-transform: uppercase;
  margin-bottom: 10px;
}
.headline{
  margin: 0;
  font-size: 34px;
  line-height: 1.12;
  letter-spacing: -0.02em;
}
.deck{
  margin: 10px 0 0 0;
  font-size: 16px;
  color: var(--muted);
  max-width: 75ch;
}

.hero-cards{
  margin-top: 18px;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
}
@media (max-width: 900px){
  .hero-cards{ grid-template-columns: 1fr; }
  .headline{ font-size: 30px; }
}

.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px 16px;
  box-shadow: 0 10px 26px rgba(16,24,40,.06);
}
.card-kicker{
  font-family: var(--mono);
  font-size: 11px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: .05em;
}
.card-title{
  margin-top: 6px;
  font-weight: 800;
  font-size: 14px;
}
.card-text{
  margin: 8px 0 0 0;
  color: #344054;
  font-size: 13px;
}

/* Lists */
.bullets{
  margin: 10px 0 0 18px;
  padding: 0;
}
.bullets li{
  margin: 6px 0;
  color: #344054;
}
.bullets.ok li{ color: #05603a; }
.bullets.no li{ color: #b42318; }

/* Callouts */
.callout{
  margin-top: 16px;
  border: 1px solid rgba(46,108,246,.18);
  background: var(--blue-weak);
  border-radius: 16px;
  padding: 14px 14px;
}
.callout.subtle{
  border-color: rgba(244,176,0,.22);
  background: var(--amber-weak);
}
.callout-title{
  font-weight: 800;
  font-size: 13px;
  margin-bottom: 6px;
}
.callout-text{
  margin:0;
  color:#1d2939;
}

/* Viz block */
.viz-block{
  margin-top: 14px;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 14px;
  box-shadow: 0 10px 28px rgba(16,24,40,.06);
}
.viz-head{
  display:flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 10px;
}
.viz-title{
  font-weight: 850;
  font-size: 14px;
}
.viz-sub{
  font-size: 13px;
  color: var(--muted);
}
.viz-legend{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
}
.tag{
  font-family: var(--mono);
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  color: #344054;
}
.tag-blue{ border-color: rgba(46,108,246,.25); background: var(--blue-weak); }
.tag-amber{ border-color: rgba(244,176,0,.30); background: var(--amber-weak); }
.tag-red{ border-color: rgba(226,59,59,.30); background: var(--red-weak); }

/* SVG styling */
.flow{
  width: 100%;
  height: auto;
  display:block;
  border-radius: 14px;
  background: linear-gradient(180deg, rgba(16,24,40,.02), rgba(16,24,40,.00));
  border: 1px solid rgba(230,232,238,.9);
  padding: 10px;
}
.flow .node rect{
  fill: #ffffff;
  stroke: rgba(16,24,40,.12);
  stroke-width: 2;
}
.flow .node-title{
  font-family: var(--sans);
  font-size: 18px;
  font-weight: 800;
  fill: #101828;
}
.flow .node-sub{
  font-family: var(--sans);
  font-size: 14px;
  fill: #667085;
}
.flow .arrow{
  stroke: rgba(46,108,246,.8);
  stroke-width: 4;
  fill: none;
}
.flow marker path{ fill: rgba(46,108,246,.85); }

.flow .friction rect{
  fill: rgba(244,176,0,.12);
  stroke: rgba(244,176,0,.35);
  stroke-width: 2;
}
.flow .friction text{
  font-family: var(--mono);
  font-size: 12px;
  fill: #7a5400;
}
.flow .breakpoint rect{
  fill: rgba(226,59,59,.10);
  stroke: rgba(226,59,59,.35);
  stroke-width: 2;
}
.flow .breakpoint text{
  font-family: var(--mono);
  font-size: 12px;
  fill: #8a1f1f;
}

.viz-notes{
  margin-top: 12px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
@media (max-width: 820px){
  .viz-notes{ grid-template-columns: 1fr; }
}
.note{
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 12px;
  background: rgba(16,24,40,.02);
}
.note-title{
  font-weight: 850;
  font-size: 13px;
  margin-bottom: 6px;
}
.note-text{
  margin:0;
  color:#344054;
  font-size: 13px;
}

/* Split panels */
.split{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 12px;
}
@media (max-width: 860px){
  .split{ grid-template-columns: 1fr; }
}
.panel{
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 14px;
}

/* ML grid */
.ml-grid{
  margin-top: 12px;
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}
@media (max-width: 820px){
  .ml-grid{ grid-template-columns: 1fr; }
}
.ml-card{
  background:#fff;
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 14px;
}
.ml-title{
  font-weight: 850;
  font-size: 13px;
  margin-bottom: 6px;
}
.ml-text{
  margin:0;
  color:#344054;
  font-size: 13px;
}
.ml-viz{
  margin-top: 10px;
  border-radius: 14px;
  border: 1px dashed rgba(16,24,40,.16);
  padding: 10px;
  background: rgba(16,24,40,.02);
  display:flex;
  gap: 8px;
  align-items: flex-end;
  min-height: 56px;
}
.spark{
  width: 100%;
  height: 12px;
  background: linear-gradient(90deg, rgba(46,108,246,.18), rgba(46,108,246,.55));
  border-radius: 999px;
}
.chip{
  width: 18px;
  height: 18px;
  border-radius: 6px;
  background: rgba(244,176,0,.35);
  border: 1px solid rgba(244,176,0,.45);
}
.bar{
  width: 14px;
  border-radius: 6px;
  background: rgba(226,59,59,.20);
  border: 1px solid rgba(226,59,59,.25);
  height: 18px;
}
.bar:nth-child(2){ height: 30px; }
.bar:nth-child(3){ height: 22px; }
.bar:nth-child(4){ height: 40px; }
.bar:nth-child(5){ height: 26px; }
.gridviz{
  width: 100%;
  height: 46px;
  border-radius: 12px;
  background:
    linear-gradient(90deg, rgba(46,108,246,.15) 25%, transparent 25%, transparent 50%, rgba(46,108,246,.15) 50%, rgba(46,108,246,.15) 75%, transparent 75%),
    linear-gradient(0deg, rgba(244,176,0,.14) 25%, transparent 25%, transparent 50%, rgba(244,176,0,.14) 50%, rgba(244,176,0,.14) 75%, transparent 75%);
  background-size: 22px 22px;
  border: 1px solid rgba(16,24,40,.10);
}

/* Simulator */
.sim{
  margin-top: 14px;
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap: 14px;
}
@media (max-width: 860px){
  .sim{ grid-template-columns: 1fr; }
}
.sim-title{
  font-weight: 900;
  font-size: 13px;
  margin-bottom: 10px;
}
.activities{
  display:grid;
  gap: 10px;
}
.activity{
  display:flex;
  justify-content: space-between;
  gap: 12px;
  border: 1px solid var(--border);
  background: #fff;
  border-radius: 16px;
  padding: 12px;
}
.activity-left{ min-width: 0; }
.activity-name{
  font-weight: 800;
  font-size: 13px;
  margin-bottom: 2px;
}
.activity-desc{
  font-size: 12px;
  color: var(--muted);
}
.activity-right{
  display:grid;
  justify-items: end;
  gap: 8px;
}
.activity-credits{
  font-family: var(--mono);
  font-size: 12px;
  color: #344054;
  white-space: nowrap;
}
.btnrow{
  display:flex;
  gap: 10px;
  margin-top: 12px;
  flex-wrap: wrap;
}

.btn{
  appearance:none;
  border: 1px solid rgba(16,24,40,.14);
  background: rgba(16,24,40,.03);
  color: var(--ink);
  padding: 10px 12px;
  border-radius: 14px;
  cursor:pointer;
  font-weight: 800;
  font-size: 12px;
}
.btn:hover{
  background: rgba(16,24,40,.06);
}
.btn.primary{
  border-color: rgba(46,108,246,.28);
  background: rgba(46,108,246,.10);
}
.btn.primary:hover{
  background: rgba(46,108,246,.14);
}
.btn.danger{
  border-color: rgba(226,59,59,.28);
  background: rgba(226,59,59,.10);
}
.btn.danger:hover{
  background: rgba(226,59,59,.14);
}

.sim-right{
  border: 1px solid var(--border);
  border-radius: 18px;
  background: #fff;
  padding: 14px;
  box-shadow: 0 10px 28px rgba(16,24,40,.06);
}
.stat{
  margin-bottom: 14px;
}
.stat-k{
  font-family: var(--mono);
  font-size: 11px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: .05em;
}
.stat-v{
  font-family: var(--mono);
  font-size: 28px;
  font-weight: 900;
  margin-top: 6px;
}
.meter{
  margin-top: 10px;
  width: 100%;
  height: 12px;
  border-radius: 999px;
  border: 1px solid rgba(16,24,40,.12);
  background: rgba(16,24,40,.03);
  overflow:hidden;
}
.meter-fill{
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, rgba(46,108,246,.85), rgba(244,176,0,.85));
  transition: width .25s ease;
}
.stat-note{
  margin-top: 8px;
  font-size: 12px;
  color: var(--muted);
}
.unlocks{
  margin: 8px 0 0 18px;
  color:#344054;
}

/* Sources */
.sources{
  margin-top: 12px;
  display:grid;
  gap: 10px;
}
.source{
  border: 1px solid var(--border);
  border-radius: 18px;
  background: #fff;
  padding: 12px 14px;
}
.source-title{
  font-weight: 900;
  font-size: 13px;
  margin-bottom: 4px;
}
.source-text{
  color: var(--muted);
  font-size: 13px;
}

/* Footer */
.footer{
  margin-top: 18px;
  padding-top: 6px;
  color: var(--muted);
  font-size: 12px;
}
.footer-inner{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}
.sep{ opacity: .6; }
